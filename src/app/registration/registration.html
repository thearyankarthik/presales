<div class="registration-container">
  <div class="registration-card">
    <header class="registration-header">
      <h1>Project Registration</h1>
      <p>Please fill in the project details to register.</p>
    </header>

    <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()" class="registration-form">
      
      <!-- Section: Basic Information -->
      <section class="form-section">
        <h2 class="section-title">Basic Information</h2>
        <div class="form-row">
          <div class="form-group">
            <label for="project_id">Project ID <span class="required">*</span></label>
            <input type="text" id="project_id" formControlName="project_id" placeholder="Enter Project ID" [class.error]="isFieldInvalid('project_id')">
            <span class="error-msg" *ngIf="isFieldInvalid('project_id')">Project ID is required</span>
          </div>
          <div class="form-group">
            <label for="project_name">Project Name <span class="required">*</span></label>
            <input type="text" id="project_name" formControlName="project_name" placeholder="Enter Project Name" [class.error]="isFieldInvalid('project_name')">
            <span class="error-msg" *ngIf="isFieldInvalid('project_name')">Project Name is required</span>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="project_type">Project Type</label>
            <select id="project_type" formControlName="project_type">
              <option value="">Select Type</option>
              <option value="Residential">Residential</option>
              <option value="Commercial">Commercial</option>
              <option value="Industrial">Industrial</option>
            </select>
          </div>
          <div class="form-group">
            <label for="status">Status</label>
            <select id="status" formControlName="status">
              <option value="Pending">Pending</option>
              <option value="Approved">Approved</option>
              <option value="Ongoing">Ongoing</option>
              <option value="Completed">Completed</option>
            </select>
          </div>
        </div>
      </section>

      <!-- Section: Location Details -->
      <section class="form-section">
        <h2 class="section-title">Location Details</h2>
        <div class="form-row">
          <div class="form-group full-width">
            <label for="address_line_1">Address Line 1</label>
            <input type="text" id="address_line_1" formControlName="address_line_1" placeholder="Street address">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="location">Area / Location</label>
            <input type="text" id="location" formControlName="location" placeholder="e.g. Downtown">
          </div>
          <div class="form-group">
            <label for="city">City</label>
            <input type="text" id="city" formControlName="city" placeholder="Enter City">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="state">State</label>
            <input type="text" id="state" formControlName="state" placeholder="Enter State">
          </div>
          <div class="form-group">
            <label for="pincode">Pincode</label>
            <input type="text" id="pincode" formControlName="pincode" placeholder="6-digit Pincode" maxlength="6">
            <span class="error-msg" *ngIf="isFieldInvalid('pincode')">Invalid pincode</span>
          </div>
        </div>
      </section>

      <!-- Section: Project Specifications -->
      <section class="form-section">
        <h2 class="section-title">Project Specifications</h2>
        <div class="form-row">
          <div class="form-group">
            <label for="total_area">Total Area (sq ft)</label>
            <input type="number" id="total_area" formControlName="total_area">
          </div>
          <div class="form-group">
            <label for="number_of_units">Number of Units</label>
            <input type="number" id="number_of_units" formControlName="number_of_units">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group full-width">
            <label for="rera_number">RERA Number</label>
            <input type="text" id="rera_number" formControlName="rera_number" placeholder="Enter RERA registration number">
          </div>
        </div>
      </section>

      <!-- Section: Financial Information -->
      <section class="form-section">
        <h2 class="section-title">Financial & Banking</h2>
        <div class="form-row">
          <div class="form-group">
            <label for="bank_name">Bank Name</label>
            <input type="text" id="bank_name" formControlName="bank_name" placeholder="Enter Bank Name">
          </div>
          <div class="form-group">
            <label for="account_number">Account Number</label>
            <input type="text" id="account_number" formControlName="account_number" placeholder="Enter Account Number">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="branch_name">Branch Name</label>
            <input type="text" id="branch_name" formControlName="branch_name" placeholder="Enter Branch Name">
          </div>
          <div class="form-group">
            <label for="ifsc_code">IFSC Code</label>
            <input type="text" id="ifsc_code" formControlName="ifsc_code" placeholder="Enter IFSC Code">
          </div>
        </div>
      </section>

      <!-- Section: Documents & Additional Info -->
      <section class="form-section">
        <h2 class="section-title">Documents & Additional Info</h2>
        <div class="form-row">
          <div class="form-group full-width">
            <label for="owner_name">Owner / Signatory Name</label>
            <input type="text" id="owner_name" formControlName="owner_name" placeholder="Full Name">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group full-width">
            <label>Upload Documents</label>
            <div class="file-upload-wrapper" (click)="fileInput.click()">
              <div class="file-upload-content">
                <span class="upload-icon">üìÅ</span>
                <span *ngIf="selectedFiles().length === 0">Click to upload or drag and drop</span>
                <span *ngIf="selectedFiles().length > 0">{{ selectedFiles().length }} files selected</span>
              </div>
              <input type="file" #fileInput (change)="onFileChange($event)" multiple hidden>
            </div>
            <div class="file-list" *ngIf="selectedFiles().length > 0">
              <span class="file-tag" *ngFor="let file of selectedFiles()">{{ file.name }}</span>
            </div>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group full-width">
            <label for="remarks">Remarks</label>
            <textarea id="remarks" formControlName="remarks" rows="3" placeholder="Additional notes..."></textarea>
          </div>
        </div>
      </section>

      <div class="form-actions">
        <button type="button" class="btn-secondary" (click)="registrationForm.reset()">Reset</button>
        <button type="submit" class="btn-primary" [disabled]="submitted()">
          <span *ngIf="!submitted()">Complete Registration</span>
          <span *ngIf="submitted()">Success!</span>
        </button>
      </div>
    </form>
    
    <div class="success-banner" *ngIf="submitted()">
      <div class="success-content">
        <span class="success-icon">Check</span>
        Project details have been successfully submitted!
      </div>
    </div>
  </div>
</div>
