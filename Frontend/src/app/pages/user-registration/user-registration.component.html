<div class="registration-page">
    <div class="logo-container">
        <img src="/logo.png" alt="TAG PROJECTS" class="app-logo">
    </div>

    <div class="registration-container">
        <div class="registration-card">
            <div class="registration-header">
                <h1>User Registration</h1>
            </div>

            <form class="registration-form" [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
                <!-- Username -->
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" formControlName="username" placeholder="Enter username">
                    <div class="error-message" *ngIf="isFieldInvalid('username')">
                        Username is required
                    </div>
                </div>

                <!-- Email -->
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" formControlName="email" placeholder="name@company.com">
                    <div class="error-message" *ngIf="isFieldInvalid('email')">
                        <span *ngIf="registrationForm.get('email')?.errors?.['required']">Email is required</span>
                        <span *ngIf="registrationForm.get('email')?.errors?.['email']">Please enter a valid email</span>
                    </div>
                </div>

                <!-- User Type -->
                <div class="form-group">
                    <label for="userType">User Type</label>
                    <select id="userType" formControlName="userType">
                        <option value="" disabled selected>Select User Type</option>
                        <option value="Admin">Admin</option>
                        <option value="Sales Executive">Sales Executive</option>
                        <option value="Sales Manager">Sales Manager</option>
                    </select>
                    <div class="error-message" *ngIf="isFieldInvalid('userType')">
                        User type is required
                    </div>
                </div>

                <!-- Gender -->
                <div class="form-group">
                    <label for="gender">Gender</label>
                    <select id="gender" formControlName="gender">
                        <option value="" disabled selected>Select Gender</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                    </select>
                    <div class="error-message" *ngIf="isFieldInvalid('gender')">
                        Gender is required
                    </div>
                </div>

                <!-- Mobile Number -->
                <div class="form-group">
                    <label for="mobileNumber">Mobile Number</label>
                    <div class="phone-input-group">
                        <select formControlName="mobileCountryCode">
                            <option value="+91">+91 (IN)</option>
                            <option value="+1">+1 (US)</option>
                            <option value="+44">+44 (UK)</option>
                            <option value="+971">+971 (UAE)</option>
                        </select>
                        <input type="text" id="mobileNumber" formControlName="mobileNumber" placeholder="Number"
                            (keypress)="onlyNumbers($event)">
                    </div>
                    <div class="error-message" *ngIf="isFieldInvalid('mobileNumber')">
                        Valid mobile number is required
                    </div>
                </div>

                <!-- Emergency Number -->
                <div class="form-group">
                    <label for="emergencyNumber">Emergency Number</label>
                    <div class="phone-input-group">
                        <select formControlName="emergencyCountryCode">
                            <option value="+91">+91 (IN)</option>
                            <option value="+1">+1 (US)</option>
                            <option value="+44">+44 (UK)</option>
                            <option value="+971">+971 (UAE)</option>
                        </select>
                        <input type="text" id="emergencyNumber" formControlName="emergencyNumber" placeholder="Number"
                            (keypress)="onlyNumbers($event)">
                    </div>
                    <div class="error-message" *ngIf="isFieldInvalid('emergencyNumber')">
                        Valid emergency number is required
                    </div>
                </div>

                <!-- Nationality -->
                <div class="form-group">
                    <label for="nationality">Nationality</label>
                    <input type="text" id="nationality" formControlName="nationality" placeholder="Enter nationality">
                    <div class="error-message" *ngIf="isFieldInvalid('nationality')">
                        Nationality is required
                    </div>
                </div>

                <!-- Date of Birth -->
                <div class="form-group">
                    <label for="dob">Date of Birth</label>
                    <input type="date" id="dob" formControlName="dob">
                    <div class="error-message" *ngIf="isFieldInvalid('dob')">
                        Date of birth is required
                    </div>
                </div>

                <!-- Aadhar Number -->
                <div class="form-group">
                    <label for="aadharNumber">Aadhar Number</label>
                    <input type="text" id="aadharNumber" formControlName="aadharNumber" placeholder="12-digit numeric"
                        (keypress)="onlyNumbers($event)" maxlength="12">
                    <div class="error-message" *ngIf="isFieldInvalid('aadharNumber')">
                        <span *ngIf="registrationForm.get('aadharNumber')?.errors?.['required']">Aadhar number is
                            required</span>
                        <span *ngIf="registrationForm.get('aadharNumber')?.errors?.['pattern']">Must be 12 digits</span>
                    </div>
                </div>

                <!-- Passport Number -->
                <div class="form-group">
                    <label for="passportNumber">Passport Number</label>
                    <input type="text" id="passportNumber" formControlName="passportNumber" placeholder="Alphanumeric">
                    <div class="error-message" *ngIf="isFieldInvalid('passportNumber')">
                        Passport number is required
                    </div>
                </div>

                <!-- Upload Document -->
                <div class="form-group full-width">
                    <label>Upload Document (PAN, Aadhar, or Passport)</label>
                    <div class="file-upload-container">
                        <label for="documentUpload" class="file-upload-label">
                            {{ selectedFileName || 'Click to select or drag and drop (PDF, JPG, PNG)' }}
                        </label>
                        <input type="file" id="documentUpload" class="file-input" (change)="onFileSelected($event)"
                            accept=".pdf,.jpg,.jpeg,.png">
                    </div>
                    <div class="error-message" *ngIf="fileError">
                        {{ fileError }}
                    </div>
                    <div class="error-message" *ngIf="!selectedFileName && registrationForm.touched && !fileError">
                        Document upload is required
                    </div>
                </div>

                <button type="submit" class="registration-button"
                    [disabled]="registrationForm.invalid || !selectedFile">
                    Register Account
                </button>

                <div class="registration-footer">
                    <p>Already have an account? <a routerLink="/login">Sign In</a></p>
                </div>
            </form>
        </div>
    </div>
</div>