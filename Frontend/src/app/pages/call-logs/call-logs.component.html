<h2>ðŸ“ž Call Logs</h2>

<!-- Debug (remove later) -->
<p style="font-size:12px;color:gray">
  DEBUG â†’ loading: {{ loading }}, logs: {{ callLogs.length }}
</p>

@if (loading) {
  <p>Loading call logs...</p>
}

@if (!loading && error) {
  <p class="error">{{ error }}</p>
}

@if (!loading && callLogs.length === 0) {
  <p>No call logs found.</p>
}

@if (!loading && callLogs.length > 0) {
  <table border="1" cellpadding="8">
    <thead>
      <tr>
        <th>Call ID</th>
        <th>Lead ID</th>
        <th>Employee ID</th>
        <th>Call Time</th>
        <th>Duration (sec)</th>
        <th>Status</th>
        <th>Source</th>
      </tr>
    </thead>
    <tbody>
      @for (log of callLogs; track log.call_id) {
        <tr>
          <td>{{ log.call_id }}</td>
          <td>{{ log.lead_id }}</td>
          <td>{{ log.emp_id }}</td>
          <td>{{ log.call_time | date:'short' }}</td>
          <td>{{ log.call_duration ?? '-' }}</td>
          <td>{{ log.call_status }}</td>
          <td>{{ log.call_source }}</td>
        </tr>
      }
    </tbody>
  </table>
}
